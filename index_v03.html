<!-- Homework04 - version-x 5/20/2016 - modified to 		-->
<!-- 														-->

<!-- Homework04 - Gem Collector using JQuery  - Due   5/28/2016 - author Tom Keel        -->


<!DOCTYPE html>
<html>

<head>
	<title>week-4-game</title>

	<!-- Link to CSS files etc   -->    
	<!-- <link href="assets/css/reset.css" rel="stylesheet" type="text/css">  --> 
	<!--<link href='https://fonts.googleapis.com/css?family=Creepster' rel='stylesheet' type='text/css'>  --> 
    <link href="assets/css/style.css" rel="stylesheet" type="text/css">

</head>

<body>

	<div id="headerBox">CrystalsCollector!</div>

	<div id="instructionsBox"> 
		<div id="instr01"><strong>You will be given a random number at the start of the game. </div> 
		<div id="instr02">There are four crystals below.  By clicking on a crystal you will add a specific amount of points to your total score. </div> 
		<div id="instr03">You win the game by matching your total score to random number, you lose the game if  your total score goes above the random number. </div> 
		<div id="instr04">The value of each crystal is hidden from you until you click on it. </div> 
		<div id="instr05">Each time when the game starts, the game will change the values of each crystal.</div> 
		<div id="instr06">To play the game again, click the total score box.</div> 
		<div id="instr07">To reset the game starting fresh, click the random number box.</div> 
	</div>

	<div id="randWinsLossesRow">
		<div id="randNumBoxCol"> 
			<div id="randNumbBoxHdr"> Match this number	</div>
			<!-- <div id="randNumbBox"> 	</div> -->
		</div>

		<div id="winsLossesBox">
			<div id="winsCtr">Wins: <span id="ctrWinsSpan"></span></div>
			<div id="lossesCtr">Losses: <span id="ctrLossesSpan"></span></div>
		</div>
					<div id="randNumbBox"> 	</div>
	</div>


	<div id="crystalButtons" >
		<img id="btn1" src="assets/images/crystal_red.jpg" alt="crystal_red">
		<img id="btn2" src="assets/images/crystal_blue.jpg" alt="crystal_blue">
		<img id="btn3" src="assets/images/crystal_yellow.jpg" alt="crystal_yellow">
		<img id="btn4" src="assets/images/crystal_green.jpg" alt="crystal_green" > 
	</div>

	<div id="totalScoreHdr">Your total score is:</div>

	<div id="totalScoreCtr">0</div>

	<div id="footerBox">
		<!-- Footer processing -->
		<div>
	  		<em> &copy;Copyright 2016 Thom. Keel   </em> 
	  	</div>
	</div>




<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
	<script type="text/javascript">

	var btn1Val = 0;
	var btn2Val = 0;
	var btn3Val = 0;
	var btn4Val = 0;

	var btnMin = 1;
	var btnMax = 12;

	var ctrLosses = 0;
	var ctrWins = 0;

	var randNum = 0;
	var randMin = 19;
	var randMax = 120;

	var totScore = 0

		randNum = Math.floor(Math.random() * (randMax - randMin + 1)) + randMin;
		//'alert("randNum=" + randNum);

		btn1Val = Math.floor(Math.random() * (btnMax - btnMin + 1)) + btnMin;
		btn2Val = Math.floor(Math.random() * (btnMax - btnMin + 1)) + btnMin;
		btn3Val = Math.floor(Math.random() * (btnMax - btnMin + 1)) + btnMin;
		btn4Val = Math.floor(Math.random() * (btnMax - btnMin + 1)) + btnMin;
		//alert(btn1Val + " " + btn2Val + " " + btn3Val + " " + btn4Val);


	// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 	

		$(document).ready(function(){

			$('#ctrWinsSpan').text(ctrWins);
			$('#ctrLossesSpan').text(ctrLosses);

			function clicked(btnXVal){
				//You already won/lost - alert already displayed
				if(totScore >= randNum){
    				alert("You are done...Reset the game to begin again!!");
    				return;
    			}

				totScore = totScore + btnXVal;
        		$('#totalScoreCtr').text(totScore);
        		if(totScore == randNum){
        			ctrWins++;
        			$('#ctrWinsSpan').text(ctrWins);
    				alert("You Win!!");
    				return;
    			}

    			if(totScore > randNum){
           			ctrLosses++;
           			$('#ctrLossesSpan').text(ctrLosses);
    				alert("You Lose!!");
    				return;
    			}
			}

		// - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - 

		function resetGame(){
			//alert("resetGame function called")

			btn1Val = 0;
			btn2Val = 0;
			btn3Val = 0;
			btn4Val = 0;

			totScore = 0;

			randNum = Math.floor(Math.random() * (randMax - randMin + 1)) + randMin;
			//'alert("randNum=" + randNum);

			btn1Val = Math.floor(Math.random() * (btnMax - btnMin + 1)) + btnMin;
			btn2Val = Math.floor(Math.random() * (btnMax - btnMin + 1)) + btnMin;
			btn3Val = Math.floor(Math.random() * (btnMax - btnMin + 1)) + btnMin;
			btn4Val = Math.floor(Math.random() * (btnMax - btnMin + 1)) + btnMin;
			//alert(btn1Val + " " + btn2Val + " " + btn3Val + " " + btn4Val);


			$('#randNumbBox').text(randNum);
			$('#totalScoreCtr').text(totScore);

		
		}

			
			$('#randNumbBox').text(randNum);

			// build the buttons on the screen using JQuery
			// for (var indexBtn = 0; indexBtn < 4; indexBtn++) {
			//  var imageBtn = $('<img>');
			 //   imageBtn.addClass('btn1');
			 //	imageBtn.attr('src','assets/images/crystal_red.jpg');
			// 	imageBtn.attr('alt', 'crystal_red' );
			 //	imageBtn.attr('id', '#btn1' );
			  //  imageBtn.addClass('btn1');

			//	//imageBtn.addClass('imageBtn');

 

			//$('imageBtn').attr('id', 'btn1');

			//$('#crystalButtons').append(imageBtn);
		 
				 

			// }


			$("#btn1").click(function(){   		//alert("The Red Crystal was clicked.");
				clicked(btn1Val);
        		//totScore = totScore + btn1Val;
        		//$('#totalScoreCtr').text(totScore);
    		});


			// gems/buttons clicked
    		$("#btn2").click(function(){		//alert("The Blue Crystal was clicked");
        		clicked(btn2Val);
    		});

    		$("#btn3").click(function(){		//alert("The Yellow Crystal was clicked");
        		
        		clicked(btn3Val);
    		});

    		$("#btn4").click(function(){		//alert("The Green Crystal was clicked");
        		clicked(btn4Val);
        	});

    		// click on the total score box to reset game // wins and losses are not reset
    		$("#totalScoreCtr").click(function(){  // play game again
    			resetGame();
            });

            $("#randNumbBox").click(function(){   	// reset game - start a fresh
				resetGame();
				randNum = Math.floor(Math.random() * (randMax - randMin + 1)) + randMin;
				$('#randNumbBox').text(randNum);
				ctrLosses = 0;
				ctrWins = 0;
				$('#ctrWinsSpan').text(ctrWins);
				$('#ctrLossesSpan').text(ctrLosses);

    		});
    		

        	    		

		});
	</script>

</body>
</html>